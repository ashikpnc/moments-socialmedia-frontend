{"ast":null,"code":"var _jsxFileName = \"/home/ashik/Projects/Moments/frontend/src/components/chatComponents/chatBox/index.js\",\n    _s = $RefreshSig$();\n\nimport \"./style.css\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { messenger } from \"../../../functions/chat\";\nimport PuffLoader from \"react-spinners/PuffLoader\";\nimport { io } from \"socket.io-client\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatBox(_ref) {\n  _s();\n\n  let {\n    selectedChat\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [sendLoading, setSendLoading] = useState(false);\n  const [messagesLoading, setMessagesLoading] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const scrollRef = useRef();\n  const [newMessage, setNewMessage] = useState(false);\n  const socket = useRef();\n  useEffect(() => {\n    if (selectedChat.id) {\n      socket.current = io(process.env.REACT_APP_BACKEND_URL);\n      socket.current.emit(\"add-user\", selectedChat.id);\n    }\n  }, [selectedChat]);\n  const messageContainerRef = useRef(null);\n\n  const sendMessage = async () => {\n    setSendLoading(true);\n    const newSavedMessage = await messenger(selectedChat.id, message, user.token);\n    setMessages(prev => {\n      return [...prev, newSavedMessage];\n    });\n    socket.current.emit(\"send-msg\", {\n      to: selectedChat.id,\n      from: user.id,\n      message: message\n    });\n    setNewMessage(prev => !prev);\n    setSendLoading(false);\n  };\n\n  const getMessages = async () => {\n    // try {\n    //   dispatch({ type: \"MESSAGES_REQUEST\" });\n    //   const { data, status } = await getAllMessages(\n    //     selectedChat.id,\n    //     user.token\n    //   );\n    //   if (status === \"ok\") {\n    //     dispatch({ type: \"MESSAGES_SUCCESS\", payload: data });\n    //   }\n    // } catch (error) {\n    //   dispatch({ type: \"MESSAGES_ERROR\" });\n    // }\n    try {\n      setMessagesLoading(true);\n      const {\n        data\n      } = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/all-messages/${selectedChat.id}}`, {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n\n      if (data) {\n        setMessages(data);\n      }\n\n      setMessagesLoading(false);\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    if (socket.current) {\n      socket.current.on(\"msg-receive\", msg => {\n        setArrivalMessage(msg);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (arrivalMessage) {\n      getMessages();\n    }\n  }, [arrivalMessage]);\n  useEffect(() => {\n    var _scrollRef$current;\n\n    (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollIntoView({\n      behaviour: \"smooth\"\n    });\n  }, [messages]);\n  useEffect(() => {\n    if (selectedChat.id) {\n      getMessages();\n    }\n  }, [selectedChat]);\n  useEffect(() => {\n    getMessages();\n  }, [newMessage]); // useEffect(() => {\n  //   messageContainerRef.current.scrollTop =\n  //     messageContainerRef.current.scrollHeight;\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatBox\",\n    children: [!selectedChat.id && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"noSelectedChat\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Select a chat to start messaging\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), selectedChat.id && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat_box_wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat_box_header\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: selectedChat.picture,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: `${selectedChat.first_name} ${selectedChat.last_name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"online\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messageContainerRef,\n        className: \"message_container scrollbar\",\n        children: [!messagesLoading && (messages === null || messages === void 0 ? void 0 : messages.map((messageObj, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${messageObj.sender === user.id ? \"sending\" : \"receiving\"}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `sending_receiving_inner ${messageObj.sender === user.id ? \"sending_inner\" : \"receiving_inner\"}`,\n            children: messageObj.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 19\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }, this))), messagesLoading && /*#__PURE__*/_jsxDEV(PuffLoader, {\n          className: \"messages_loading\",\n          color: \"#fff\",\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat_text_box\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          placeholder: \"Send a message...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), !sendLoading && /*#__PURE__*/_jsxDEV(\"svg\", {\n          viewBox: \"0 0 512 512\",\n          onClick: sendMessage,\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L277.3 424.9l-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488V392c0-5.3 1.8-10.5 5.1-14.7L362.4 164.7c2.5-7.1-6.5-14.3-13-8.4L170.4 318.2l-32 28.9 0 0c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8 .8 302.2 .1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, this), sendLoading && /*#__PURE__*/_jsxDEV(PuffLoader, {\n          color: \"#fff\",\n          size: 30\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChatBox, \"4q17nIIcWwHLVjBiGI5PoSNXwsU=\", false, function () {\n  return [useSelector];\n});\n\n_c = ChatBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatBox\");","map":{"version":3,"sources":["/home/ashik/Projects/Moments/frontend/src/components/chatComponents/chatBox/index.js"],"names":["useSelector","useEffect","useRef","useState","messenger","PuffLoader","io","axios","ChatBox","selectedChat","user","state","sendLoading","setSendLoading","messagesLoading","setMessagesLoading","messages","setMessages","message","setMessage","arrivalMessage","setArrivalMessage","scrollRef","newMessage","setNewMessage","socket","id","current","process","env","REACT_APP_BACKEND_URL","emit","messageContainerRef","sendMessage","newSavedMessage","token","prev","to","from","getMessages","data","get","headers","Authorization","error","on","msg","scrollIntoView","behaviour","picture","first_name","last_name","map","messageObj","i","sender","text","e","target","value"],"mappings":"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","sourcesContent":["import \"./style.css\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { messenger } from \"../../../functions/chat\";\nimport PuffLoader from \"react-spinners/PuffLoader\";\nimport { io } from \"socket.io-client\";\nimport axios from \"axios\";\n\nexport default function ChatBox({ selectedChat }) {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [sendLoading, setSendLoading] = useState(false);\n  const [messagesLoading, setMessagesLoading] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const scrollRef = useRef();\n  const [newMessage, setNewMessage] = useState(false);\n  const socket = useRef();\n  useEffect(() => {\n    if (selectedChat.id) {\n      socket.current = io(process.env.REACT_APP_BACKEND_URL);\n      socket.current.emit(\"add-user\", selectedChat.id);\n    }\n  }, [selectedChat]);\n\n  const messageContainerRef = useRef(null);\n\n  const sendMessage = async () => {\n    setSendLoading(true);\n    const newSavedMessage = await messenger(\n      selectedChat.id,\n      message,\n      user.token\n    );\n    setMessages((prev) => {\n      return [...prev, newSavedMessage];\n    });\n    socket.current.emit(\"send-msg\", {\n      to: selectedChat.id,\n      from: user.id,\n      message: message,\n    });\n    setNewMessage((prev) => !prev);\n    setSendLoading(false);\n  };\n  const getMessages = async () => {\n    // try {\n    //   dispatch({ type: \"MESSAGES_REQUEST\" });\n    //   const { data, status } = await getAllMessages(\n    //     selectedChat.id,\n    //     user.token\n    //   );\n    //   if (status === \"ok\") {\n    //     dispatch({ type: \"MESSAGES_SUCCESS\", payload: data });\n    //   }\n    // } catch (error) {\n    //   dispatch({ type: \"MESSAGES_ERROR\" });\n    // }\n    try {\n      setMessagesLoading(true);\n      const { data } = await axios.get(\n        `${process.env.REACT_APP_BACKEND_URL}/all-messages/${selectedChat.id}}`,\n        {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        }\n      );\n      if (data) {\n        setMessages(data);\n      }\n      setMessagesLoading(false);\n    } catch (error) {}\n  };\n  useEffect(() => {\n    if (socket.current) {\n      socket.current.on(\"msg-receive\", (msg) => {\n        setArrivalMessage(msg);\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (arrivalMessage) {\n      getMessages();\n    }\n  }, [arrivalMessage]);\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behaviour: \"smooth\" });\n  }, [messages]);\n  useEffect(() => {\n    if (selectedChat.id) {\n      getMessages();\n    }\n  }, [selectedChat]);\n  useEffect(() => {\n    getMessages();\n  }, [newMessage]);\n  // useEffect(() => {\n  //   messageContainerRef.current.scrollTop =\n  //     messageContainerRef.current.scrollHeight;\n  // }, []);\n  return (\n    <div className=\"chatBox\">\n      {!selectedChat.id && (\n        <div className=\"noSelectedChat\">\n          <div>Select a chat to start messaging</div>\n        </div>\n      )}\n      {selectedChat.id && (\n        <div className=\"chat_box_wrap\">\n          <div className=\"chat_box_header\">\n            <img src={selectedChat.picture} alt=\"\" />\n            <h4>{`${selectedChat.first_name} ${selectedChat.last_name}`}</h4>\n            <div>online</div>\n          </div>\n          <div\n            ref={messageContainerRef}\n            className=\"message_container scrollbar\"\n          >\n            {!messagesLoading &&\n              messages?.map((messageObj, i) => (\n                <div\n                  className={`${\n                    messageObj.sender === user.id ? \"sending\" : \"receiving\"\n                  }`}\n                  key={i}\n                >\n                  <div\n                    className={`sending_receiving_inner ${\n                      messageObj.sender === user.id\n                        ? \"sending_inner\"\n                        : \"receiving_inner\"\n                    }`}\n                  >\n                    {messageObj.text}\n                  </div>\n                </div>\n              ))}\n            {messagesLoading && (\n              <PuffLoader className=\"messages_loading\" color=\"#fff\" size={30} />\n            )}\n          </div>\n          <div className=\"chat_text_box\">\n            <input\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              placeholder=\"Send a message...\"\n            />\n            {!sendLoading && (\n              <svg viewBox=\"0 0 512 512\" onClick={sendMessage}>\n                <path d=\"M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L277.3 424.9l-40.1 74.5c-5.2 9.7-16.3 14.6-27 11.9S192 499 192 488V392c0-5.3 1.8-10.5 5.1-14.7L362.4 164.7c2.5-7.1-6.5-14.3-13-8.4L170.4 318.2l-32 28.9 0 0c-9.2 8.3-22.3 10.6-33.8 5.8l-85-35.4C8.4 312.8 .8 302.2 .1 290s5.5-23.7 16.1-29.8l448-256c10.7-6.1 23.9-5.5 34 1.4z\" />\n              </svg>\n            )}\n            {sendLoading && <PuffLoader color=\"#fff\" size={30} />}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}